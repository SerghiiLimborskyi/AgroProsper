name: ğŸ” Update release-notes.md version

on:
  push:
    tags:
      - 'v*'

permissions:
  contents: write

jobs:
  update-release-notes:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: ğŸ” Ğ—Ğ°Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ²ĞµÑ€ÑÑ–Ñ Ğ² release-notes.md
        run: |
          VERSION=${GITHUB_REF#refs/tags/}
          DATE=$(date +'%Y-%m-%d')
          sed -i "s/^> ĞÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ:.*/> ĞÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ: $DATE/" release-notes.md
          sed -i "s/^> Ğ’ĞµÑ€ÑÑ–Ñ:.*/> Ğ’ĞµÑ€ÑÑ–Ñ: $VERSION/" release-notes.md

      - name: ğŸ’¾ ĞšĞ¾Ğ¼Ñ–Ñ‚ Ğ·Ğ¼Ñ–Ğ½
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ”„ ĞĞ²Ñ‚Ğ¾Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ²ĞµÑ€ÑÑ–Ñ— Ğ² release-notes.md"
