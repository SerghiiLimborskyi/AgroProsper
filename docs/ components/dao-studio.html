<section class="dao-block">
  <h2 id="studioHeader">üé¨ DAO –°—Ç—É–¥—ñ—è</h2>
  <div id="studioVideo">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–µ–æ...</div>

  <p id="studioSlogan">üåæ AgroProsper ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ DAO. –¶–µ –¥—ñ—è, —è–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î.</p>
  <button onclick="location.href='promo.html'" class="cta-button" id="ctaButton">üîê –î–æ–ª—É—á–∏—Ç–∏—Å—å –¥–æ –¥—ñ—ó</button>

  <hr />

  <h3 id="manifestTitle">üìú –ú–∞–Ω—ñ—Ñ–µ—Å—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏</h3>
  <p id="manifestText">–ú–∏ –Ω–µ –ø—Ä–æ–¥–∞—î–º–æ —Ç–æ–∫–µ–Ω–∏. –ú–∏ –Ω–µ –∑–∞–º–∞–Ω—é—î–º–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∞–º–∏. –ú–∏ –¥—ñ—î–º–æ ‚Äî —á–µ—Ä–µ–∑ –µ—Ç–∏–∫—É, –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ –¥–æ–≤—ñ—Ä—É.</p>

  <h3 id="questTitle">üß© DAO-–∫–≤–µ—Å—Ç: –ü—É–ª—å—Å –¥–æ–≤—ñ—Ä–∏</h3>
  <p id="questText">–§–µ—Ä–º–µ—Ä —Ö–æ—á–µ –ø—Ä–æ–¥–∞—Ç–∏ —É—Ä–æ–∂–∞–π –¥–µ—à–µ–≤—à–µ, —â–æ–± –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≥—Ä–æ–º–∞–¥—ñ. –©–æ –≤–∏ –æ–±–µ—Ä–µ—Ç–µ?</p>
  <ul>
    <li id="option1">‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ –≤–∏–±—ñ—Ä</li>
    <li id="option2">üí∞ –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏ –ø—Ä–æ–¥–∞—Ç–∏ –¥–æ—Ä–æ–∂—á–µ</li>
  </ul>
</section>

<script>
  const lang = navigator.language.startsWith("pl") ? "pl"
             : navigator.language.startsWith("en") ? "en"
             : "uk";
  const role = localStorage.getItem("userCID")?.includes("Partner") ? "partner"
             : localStorage.getItem("userCID")?.includes("Agent") ? "agent"
             : "guest";

  const t = {
    uk: {
      header: "üé¨ DAO –°—Ç—É–¥—ñ—è",
      slogan: "üåæ AgroProsper ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ DAO. –¶–µ –¥—ñ—è, —è–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î.",
      join: "üîê –î–æ–ª—É—á–∏—Ç–∏—Å—å –¥–æ –¥—ñ—ó",
      manifest: "üìú –ú–∞–Ω—ñ—Ñ–µ—Å—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏",
      manifestText: "–ú–∏ –Ω–µ –ø—Ä–æ–¥–∞—î–º–æ —Ç–æ–∫–µ–Ω–∏. –ú–∏ –Ω–µ –∑–∞–º–∞–Ω—é—î–º–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∞–º–∏. –ú–∏ –¥—ñ—î–º–æ ‚Äî —á–µ—Ä–µ–∑ –µ—Ç–∏–∫—É, –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ –¥–æ–≤—ñ—Ä—É.",
      quest: "üß© DAO-–∫–≤–µ—Å—Ç: –ü—É–ª—å—Å –¥–æ–≤—ñ—Ä–∏",
      questText: "–§–µ—Ä–º–µ—Ä —Ö–æ—á–µ –ø—Ä–æ–¥–∞—Ç–∏ —É—Ä–æ–∂–∞–π –¥–µ—à–µ–≤—à–µ, —â–æ–± –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≥—Ä–æ–º–∞–¥—ñ. –©–æ –≤–∏ –æ–±–µ—Ä–µ—Ç–µ?",
      option1: "‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ –≤–∏–±—ñ—Ä",
      option2: "üí∞ –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏ –ø—Ä–æ–¥–∞—Ç–∏ –¥–æ—Ä–æ–∂—á–µ"
    },
    pl: {
      header: "üé¨ Studio DAO",
      slogan: "üåæ AgroProsper ‚Äî to nie tylko DAO. To dzia≈Çanie, kt√≥re wspiera.",
      join: "üîê Do≈ÇƒÖcz do dzia≈Çania",
      manifest: "üìú Manifest platformy",
      manifestText: "Nie sprzedajemy token√≥w. Nie kusimy poleceniami. Dzia≈Çamy ‚Äî przez etykƒô, wsparcie i zaufanie.",
      quest: "üß© DAO-quest: Puls zaufania",
      questText: "Rolnik chce sprzedaƒá plony taniej, by pom√≥c spo≈Çeczno≈õci. Co wybierasz?",
      option1: "‚úÖ Wspieram jego decyzjƒô",
      option2: "üí∞ Namawiam na wy≈ºszƒÖ cenƒô"
    },
    en: {
      header: "üé¨ DAO Studio",
      slogan: "üåæ AgroProsper is not just a DAO. It‚Äôs action that supports.",
      join: "üîê Join the action",
      manifest: "üìú Platform Manifesto",
      manifestText: "We don‚Äôt sell tokens. We don‚Äôt lure with referrals. We act ‚Äî through ethics, support, and trust.",
      quest: "üß© DAO Quest: Pulse of Trust",
      questText: "A farmer wants to sell the harvest cheaper to help the community. What do you choose?",
      option1: "‚úÖ Support the choice",
      option2: "üí∞ Persuade to sell higher"
    }
  };

  const tr = t[lang];
  document.getElementById("studioHeader").textContent = tr.header;
  document.getElementById("studioSlogan").textContent = tr.slogan;
  document.getElementById("ctaButton").textContent = tr.join;
  document.getElementById("manifestTitle").textContent = tr.manifest;
  document.getElementById("manifestText").textContent = tr.manifestText;
  document.getElementById("questTitle").textContent = tr.quest;
  document.getElementById("questText").textContent = tr.questText;
  document.getElementById("option1").textContent = tr.option1;
  document.getElementById("option2").textContent = tr.option2;

  fetch("studio-index.json")
    .then(res => res.json())
    .then(data => {
      const match = data.videos.find(v => v.lang === lang && (v.role === role || v.role === "any"));
      if (match) {
        document.getElementById("studioVideo").innerHTML =
          `<iframe width="100%" height="400" src="${match.url}" frameborder="0" allowfullscreen></iframe>`;
      } else {
        document.getElementById("studioVideo").textContent = "üé• –í—ñ–¥–µ–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –¥–ª—è –≤–∞—à–æ—ó —Ä–æ–ª—ñ.";
      }
    });
</script>
