<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å ‚Äî AgroProsper</title>
  <link rel="stylesheet" href="../public/style.css" />
  <style>
    .admin-panel { max-width: 1000px; margin: auto; padding: 2rem; }
    .admin-panel h1 { text-align: center; margin-bottom: 1rem; }
    .search-box { margin-bottom: 1rem; text-align: center; }
    .search-box input { padding: 0.5rem; width: 60%; border-radius: 6px; border: 1px solid #ccc; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: 0.8rem; border: 1px solid #ddd; text-align: left; }
    th { background-color: #2e7d32; color: white; }
    .counter { margin-top: 1rem; font-weight: bold; }
  </style>
</head>
<body>
  <header class="site-header">
    <img src="../public/logo.png" alt="AgroProsper Logo" class="logo" />
    <nav class="nav">
      <ul class="nav-menu">
        <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
        <li><a href="admin.html" class="active">–ê–¥–º—ñ–Ω</a></li>
      </ul>
    </nav>
  </header>

  <main class="admin-panel">
    <h1>üìä –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å AgroProsper</h1>

    <div class="search-box">
      <input type="text" id="search" placeholder="üîç –ü–æ—à—É–∫ –ø–æ —ñ–º–µ–Ω—ñ –∞–±–æ email..." />
    </div>

    <table id="messageTable">
      <thead>
        <tr>
          <th>–Ü–º‚Äô—è</th>
          <th>Email</th>
          <th>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</th>
          <th>–î–∞—Ç–∞</th>
        </tr>
      </thead>
      <tbody>
        <!-- –î–∞–Ω—ñ –±—É–¥—É—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ñ JavaScript'–æ–º -->
      </tbody>
    </table>

    <div class="counter">üî¢ –í—Å—å–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å: <span id="count">0</span></div>
  </main>

  <script>
    const messages = [
      { name: "–Ü–≤–∞–Ω", email: "ivan@example.com", message: "–¶—ñ–∫–∞–≤–∏—Ç—å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è", date: "2025-08-17" },
      { name: "–û–ª–µ–Ω–∞", email: "olena@example.com", message: "–•–æ—á—É –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ DAO", date: "2025-08-16" }
    ];

    const tbody = document.querySelector("#messageTable tbody");
    const count = document.getElementById("count");
    const search = document.getElementById("search");

    function renderTable(data) {
      tbody.innerHTML = "";
      data.forEach(msg => {
        const row = `<tr><td>${msg.name}</td><td>${msg.email}</td><td>${msg.message}</td><td>${msg.date}</td></tr>`;
        tbody.innerHTML += row;
      });
      count.textContent = data.length;
    }

    search.addEventListener("input", () => {
      const term = search.value.toLowerCase();
      const filtered = messages.filter(m =>
        m.name.toLowerCase().includes(term) || m.email.toLowerCase().includes(term)
      );
      renderTable(filtered);
    });

    renderTable(messages);
  </script>
</body>
</html>
