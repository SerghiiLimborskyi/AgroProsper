<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>AgroProsper DAO ‚Äî –ü–∞–Ω–µ–ª—å –∞–≥–µ–Ω—Ç–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../styles/main.css" />
  <style>
    main {
      padding: 40px;
      max-width: 900px;
      margin: auto;
    }
    section {
      margin-bottom: 40px;
      padding: 20px;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: none;
      background: rgba(255,255,255,0.1);
      color: white;
    }
    button {
      margin-top: 20px;
      padding: 12px 24px;
      background: #00ffcc;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background: #00cc99;
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div id="menuContainer"></div>
  <main>
    <section>
      <h2>üß† DAO-–∑–≤–µ—Ä–Ω–µ–Ω–Ω—è</h2>
      <p id="dao-text">AgroProsper V7 ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–∞ DAO-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, —â–æ –ø—Ä–∞—Ü—é—î –±–µ–∑ Web3-–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.</p>
    </section>

    <section>
      <h2>üë§ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–≥–µ–Ω—Ç–∞</h2>
      <form id="agentForm">
        <input type="text" id="name" placeholder="–Ü–º‚Äô—è" required />
        <input type="email" id="email" placeholder="Email" required />
        <select id="role">
          <option value="Moon Botanist">Moon Botanist</option>
          <option value="DAO Partner">DAO Partner</option>
          <option value="Agent of Good">Agent of Good</option>
        </select>
        <input type="text" id="cid" placeholder="–í–∞—à CID (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: 0xAGRO-XXXX)" required />
        <textarea id="message" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ (–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)"></textarea>
        <button type="submit">üöÄ –ü–æ–≤–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
      </form>
    </section>

    <section>
      <h2>üèÖ –î—ñ—ó DAO</h2>
      <button onclick="alert('‚úÖ –ë–µ–π–¥–∂ –≤–∏–¥–∞–Ω–æ!')">–û—Ç—Ä–∏–º–∞—Ç–∏ –±–µ–π–¥–∂</button>
      <button onclick="alert('üí∞ –¢–æ–∫–µ–Ω–∏ –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ!')">–ù–∞—Ä–∞—Ö—É–≤–∞—Ç–∏ —Ç–æ–∫–µ–Ω–∏</button>
      <button onclick="alert('üìä –ë–∞–ª–∞–Ω—Å: 0 AGT')">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –±–∞–ª–∞–Ω—Å</button>
    </section>
  </main>
  <div id="footerContainer"></div>
  <script src="../public/init.js"></script>
  <script>
    const lang = navigator.language.slice(0, 2);
    const translations = {
      uk: {
        daoText: "AgroProsper V7 ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–∞ DAO-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, —â–æ –ø—Ä–∞—Ü—é—î –±–µ–∑ Web3-–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π..."
      },
      en: {
        daoText: "AgroProsper V7 ‚Äî autonomous DAO platform operating without Web3 dependencies..."
      },
      pl: {
        daoText: "AgroProsper V7 ‚Äî autonomiczna platforma DAO dzia≈ÇajƒÖca bez zale≈ºno≈õci Web3..."
      }
    };
    const t = translations[lang] || translations.uk;
    document.getElementById('dao-text').textContent = t.daoText;

    document.getElementById("agentForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const payload = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        role: document.getElementById("role").value,
        cid: document.getElementById("cid").value,
        message: document.getElementById("message").value,
        timestamp: new Date().toISOString()
      };
      localStorage.setItem("cid", payload.cid);
      fetch("https://dao.agroprosper.local/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      })
      .then(res => res.ok ? alert("‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!") : alert("‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó"))
      .catch(() => alert("‚ùå DAO-–±–æ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π"));
    });
  </script>
</body>
</html>
