// TopFarmerSBT.tact
import { Address, Cell, Contract, Sender, StateInit, beginCell } from '@ton/core';

contract TopFarmerSBT {
  // ğŸ§© Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ğ°
  struct Token {
    owner: Address,
    metadata: string
  }

  // ğŸ“¦ Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ”Ğ¼Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ğ¸
  tokens: map<Address, Token> = map();

  // ğŸ›  Mint Ğ½Ğ¾Ğ²Ğ¸Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½
  public function mint(to: Address, metadata: string) {
    if (tokens.exists(to)) {
      throw("Token already minted for this address");
    }
    tokens.set(to, { owner: to, metadata });
  }

  // ğŸ” ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ñ–
  public function getMetadata(addr: Address): string {
    if (!tokens.exists(addr)) {
      throw("No token for this address");
    }
    return tokens.get(addr).metadata;
  }

  // ğŸš« Ğ—Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½Ğ¸Ñ‚Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ñƒ Ñ‚Ğ¾ĞºĞµĞ½Ğ°
  public function transfer(from: Address, to: Address) {
    throw("SBT cannot be transferred");
  }
}
