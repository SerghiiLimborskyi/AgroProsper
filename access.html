<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>AgroProsper DAO Access</title>
  <script type="module">
    import { getUserRole, hasPermission } from './AgroRoles.js';

    function handleAccess(action) {
      const address = prompt("๐ ะะฒะตะดััั ะฒะฐัั DAO-ะฐะดัะตัั:");
      if (!address) return alert("โ ะะดัะตัะฐ ะฝะต ะฒะบะฐะทะฐะฝะฐ.");

      const role = getUserRole(address);
      const allowed = hasPermission(role, action);

      if (allowed) {
        alert(`โ ะะพัััะฟ ะดะพะทะฒะพะปะตะฝะพ (${role}) ะดะพ ะดัั: ${action}`);
        // ะขัั ะผะพะถะฝะฐ ะฒััะฐะฒะธัะธ ะปะพะณัะบั ะฒัะดะบัะธััั ัะฐะนะปั ะฐะฑะพ ัะตะดะฐะณัะฒะฐะฝะฝั
      } else {
        alert(`โ ะะพัััะฟ ะทะฐะฑะพัะพะฝะตะฝะพ (${role}) ะดะพ ะดัั: ${action}`);
      }
    }

    window.onload = () => {
      document.getElementById("view-btn").onclick = () => handleAccess("view");
      document.getElementById("edit-btn").onclick = () => handleAccess("edit");
      document.getElementById("delete-btn").onclick = () => handleAccess("delete");
    };
  </script>
</head>
<body>
  <h1>๐ AgroProsper DAO Access Panel</h1>
  <button id="view-btn">๐ ะะตัะตะณะปัะฝััะธ ัะฐะนะป</button>
  <button id="edit-btn">โ๏ธ ะะตะดะฐะณัะฒะฐัะธ ัะฐะนะป</button>
  <button id="delete-btn">๐๏ธ ะะธะดะฐะปะธัะธ ัะฐะนะป</button>
</body>
</html>
