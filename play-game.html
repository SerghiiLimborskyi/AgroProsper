<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ® DAO Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div id="game-container">
    <h1 id="game-title">ğŸ® DAO Game</h1>
    <p><strong>Ğ–Ğ°Ğ½Ñ€:</strong> <span id="genre">â³</span></p>
    <p><strong>Ğ¡ĞµÑ‚Ñ‚Ñ–Ğ½Ğ³:</strong> <span id="setting">â³</span></p>
    <p><strong>ĞœĞµÑ…Ğ°Ğ½Ñ–ĞºĞ°:</strong> <span id="mechanic">â³</span></p>
    <p><strong>ĞĞ°Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°:</strong> <span id="reward">â³</span></p>
    <button id="start-btn">ğŸš€ ĞŸĞ¾Ñ‡Ğ°Ñ‚Ğ¸ Ğ³Ñ€Ñƒ</button>
    <div id="game-output" style="margin-top: 20px;"></div>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    function escapeHTML(str) {
      return str.replace(/[&<>"']/g, m => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      })[m]);
    }

    const params = new URLSearchParams(window.location.search);
    const title = escapeHTML(params.get('title') || 'DAO Game');
    const genre = escapeHTML(params.get('genre') || 'Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ñ–Ñ');
    const setting = escapeHTML(params.get('setting') || 'Ñ„ĞµÑ€Ğ¼ĞµÑ€ÑÑŒĞºĞ¸Ğ¹ DAO-ÑĞ²Ñ–Ñ‚');
    const mechanic = escapeHTML(params.get('mechanic') || 'ĞºĞµÑ€ÑƒĞ¹ Ğ¿Ğ¾ÑÑ–Ğ²Ğ°Ğ¼Ğ¸, Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ²Ñ€Ğ¾Ğ¶Ğ°Ğ¹');
    const reward = escapeHTML(params.get('reward') || 'NFT-Ğ±ĞµĞ¹Ğ´Ğ¶ â€œTop Farmerâ€');

    document.getElementById('game-title').textContent = title;
    document.getElementById('genre').textContent = genre;
    document.getElementById('setting').textContent = setting;
    document.getElementById('mechanic').textContent = mechanic;
    document.getElementById('reward').textContent = reward;

    document.getElementById('start-btn').onclick = () => {
      const output = document.getElementById('game-output');
      output.innerHTML = ''; // Ğ¾Ñ‡Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸

      const p1 = document.createElement('p');
      p1.textContent = `ğŸ” Ğ’Ğ¸ Ğ¿Ğ¾Ñ‡Ğ¸Ğ½Ğ°Ñ”Ñ‚Ğµ DAO-Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ğ´Ñƒ Ğ² ÑĞ²Ñ–Ñ‚Ñ– ${setting}`;
      output.appendChild(p1);

      const p2 = document.createElement('p');
      p2.textContent = `ğŸ¯ Ğ—Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ: ${mechanic}`;
      output.appendChild(p2);

      const p3 = document.createElement('p');
      p3.textContent = `ğŸ† Ğ£ÑĞ¿Ñ–ÑˆĞ½Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ â€” ${reward}`;
      output.appendChild(p3);
    };
  </script>
</body>
</html>

